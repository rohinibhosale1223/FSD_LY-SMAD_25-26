<%- include('partials/header', { title: title, currentPage: currentPage }) %>

    <!-- Hero Section -->
    <section class="hero-section" style="background: linear-gradient(135deg, #114847 0%, #aa594e 100%); color: white; padding: 120px 0 80px; margin-top: 80px;">
        <div class="container text-center">
            <h1 class="display-4 fw-bold mb-4">Discover Your Next Great Read</h1>
            <p class="lead mb-5 fs-5">Curated collection of timeless classics and modern masterpieces</p>
            <div class="d-flex gap-3 justify-content-center flex-wrap">
                <a href="/books" class="btn btn-light btn-lg px-4 py-3">
                    <i class="bi bi-book-fill me-2"></i> Browse Books
                </a>
                <a href="/about" class="btn btn-outline-light btn-lg px-4 py-3">
                    <i class="bi bi-info-circle me-2"></i> Learn More
                </a>
            </div>
        </div>
    </section>

    <!-- Featured Books Section -->
    <section class="py-5" style="background-color: white;">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-5 fw-bold mb-3" style="color: #114847;">Featured Collection</h2>
                <p class="lead" style="color: #666;">Hand-picked books from our literary experts</p>
            </div>
            
            <div class="row g-4">
                <% if (books && books.length > 0) { %>
                    <% books.slice(0, 6).forEach(book => { %>
                        <div class="col-lg-4 col-md-6">
                            <div class="card h-100 border-0 position-relative" 
                                 style="border-radius: 20px; overflow: hidden; transition: all 0.4s ease; box-shadow: 0 8px 25px rgba(17, 72, 71, 0.1);"
                                 onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 15px 35px rgba(17, 72, 71, 0.2)';" 
                                 onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 8px 25px rgba(17, 72, 71, 0.1)';">
                                
                                <!-- Book Cover with Gradient Overlay -->
                                <div class="position-relative" style="height: 280px; overflow: hidden;">
                                    <img src="<%= book.image_url %>" 
                                         class="card-img-top" alt="<%= book.title %>"
                                         style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.4s ease;">
                                    <!-- Subtle Gradient Overlay -->
                                    <div class="position-absolute bottom-0 start-0 w-100" 
                                         style="height: 60px; background: linear-gradient(transparent, rgba(0,0,0,0.1));"></div>
                                    
                                    <!-- Genre Badge -->
                                    <div class="position-absolute top-0 start-0 m-3">
                                        <span class="badge px-3 py-2 fw-semibold" 
                                              style="background: linear-gradient(135deg, #aa594e, #d39389); color: white; border-radius: 25px; backdrop-filter: blur(10px);">
                                            <%= book.genre %>
                                        </span>
                                    </div>
                                    
                                    <!-- Rating Badge -->
                                    <div class="position-absolute top-0 end-0 m-3">
                                        <div class="badge px-3 py-2" style="background-color: rgba(255,255,255,0.95); color: #114847; border-radius: 25px;">
                                            <i class="bi bi-star-fill text-warning me-1"></i>
                                            <strong><%= book.rating %></strong>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Card Body -->
                                <div class="card-body p-4 d-flex flex-column" style="background-color: white;">
                                    <!-- Title & Author -->
                                    <div class="mb-3">
                                        <h5 class="card-title fw-bold mb-2" style="color: #114847; line-height: 1.3; font-size: 1.2rem;">
                                            <%= book.title %>
                                        </h5>
                                        <p class="mb-0" style="color: #666; font-size: 0.95rem;">by <strong style="color: #aa594e;"><%= book.author %></strong></p>
                                    </div>
                                    
                                    <!-- Description -->
                                    <p class="card-text flex-grow-1 mb-4" style="color: #666; line-height: 1.6; font-size: 0.9rem;">
                                        <%= book.description.substring(0, 110) %><% if (book.description.length > 110) { %>...<% } %>
                                    </p>
                                    
                                    <!-- Price & Add to Cart -->
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="h4 mb-0 fw-bold" style="color: #aa594e;">₹<%= book.price %></div>
                                            <small class="text-muted">Free shipping</small>
                                        </div>
                                        <form action="/cart/add" method="POST" class="d-inline">
                                            <input type="hidden" name="book_id" value="<%= book.id %>">
                                            <input type="hidden" name="quantity" value="1">
                                            <button type="submit" class="btn btn-primary px-4 py-2" 
                                                    style="border-radius: 30px; font-weight: 600; background: linear-gradient(135deg, #aa594e, #d39389); border: none; box-shadow: 0 4px 15px rgba(170, 89, 78, 0.3); transition: all 0.3s ease;"
                                                    onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 6px 20px rgba(170, 89, 78, 0.4)';" 
                                                    onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 15px rgba(170, 89, 78, 0.3)';">
                                                <i class="bi bi-cart-plus me-2"></i>Add to Cart
                                            </button>
                                        </form>
                                    </div>
                                </div>
                                
                                <!-- Quick View Hover Effect -->
                                <div class="position-absolute top-50 start-50 translate-middle" 
                                     style="opacity: 0; transition: opacity 0.3s ease; pointer-events: none;"
                                     onmouseover="this.parentElement.querySelector('.card-img-top').style.transform='scale(1.05)';" 
                                     onmouseout="this.parentElement.querySelector('.card-img-top').style.transform='scale(1)';">
                                    <div class="btn btn-light btn-sm rounded-circle" style="width: 50px; height: 50px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                                        <i class="bi bi-eye"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <div class="col-12 text-center">
                        <div class="alert alert-info border-0" style="background-color: #F9F6EE; color: #114847;">
                            <i class="bi bi-info-circle me-2"></i> No books available at the moment. Check back soon!
                        </div>
                    </div>
                <% } %>
            </div>
            
            <% if (books && books.length > 6) { %>
                <div class="text-center mt-5">
                    <a href="/books" class="btn btn-outline-primary btn-lg px-5" style="border-radius: 25px;">
                        View All Books <i class="bi bi-arrow-right ms-2"></i>
                    </a>
                </div>
            <% } %>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-5" style="background-color: #F9F6EE;">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4 text-center">
                    <div class="feature-icon mb-3" style="width: 80px; height: 80px; background: linear-gradient(135deg, #aa594e, #d39389); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                        <i class="bi bi-truck" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h5 class="fw-bold mb-2" style="color: #114847;">Free Shipping</h5>
                    <p class="text-muted">Free delivery on orders above ₹500</p>
                </div>
                <div class="col-md-4 text-center">
                    <div class="feature-icon mb-3" style="width: 80px; height: 80px; background: linear-gradient(135deg, #114847, #aa594e); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                        <i class="bi bi-award" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h5 class="fw-bold mb-2" style="color: #114847;">Quality Guaranteed</h5>
                    <p class="text-muted">Curated collection of genuine books</p>
                </div>
                <div class="col-md-4 text-center">
                    <div class="feature-icon mb-3" style="width: 80px; height: 80px; background: linear-gradient(135deg, #0b3ba2, #aa594e); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                        <i class="bi bi-headset" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h5 class="fw-bold mb-2" style="color: #114847;">24/7 Support</h5>
                    <p class="text-muted">Always here to help with your orders</p>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Card hover effects for homepage
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.15)';
                const img = this.querySelector('img');
                if (img) img.style.transform = 'scale(1.05)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
                const img = this.querySelector('img');
                if (img) img.style.transform = 'scale(1)';
            });
        });
    </script>

<%- include('partials/footer') %>
